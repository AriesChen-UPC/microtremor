# MAX FORMAT RELEASE 1.1
#
# BEGIN COMMAND LINE ARGUMENTS
#
geopsy-fk -db ../geopsy_db/nz_wghs_c50_forv3.2.0.gpy -param rtbf_c50_n=1.param -group-path 3c -o nz_wghs_c50_rtbf_simple
#
# END COMMAND LINE ARGUMENTS
#
#
# BEGIN SOFTWARE VERSION
#
  Qt                  5.12.3
  QGpCoreTools        2.2.0 from geopsypack-3.2.0
      (built on 20191001095018 commit 9a9aca6fa9a4afe876dea557f2abdfcf2a347b70)
  QGpCoreMath         1.2.0 from geopsypack-3.2.0
      (built on 20191001095047 commit ad04568874cdef88ce58bdf0965dea20d9a641ec)
  DinverCore          1.1.0 from geopsypack-3.2.0
      (built on 20191001095418 commit c69b0ffa73b98e472e87f259226ef460ce894064)
  QGpCoreWave         2.0.2 from geopsypack-3.2.0
      (built on 20191001095156 commit 34923366413bcea517f39b071c9d3e1369dd8036)
  QGpCompatibility    1.0.1 from geopsypack-3.2.0
      (built on 20191001095229 commit 99bd677bf34f3a0efaacb7450b6f8d9ce3a968ad)
  DinverDCCore        2.0.2 from geopsypack-3.2.0
      (built on 20191001095448 commit 9c22799dfce31a911fec950bc64063b6e6684d6f)
  GeopsyCore          4.2.0 from geopsypack-3.2.0
      (built on 20191001095243 commit 2820fdad8839570b8eb6b93977762c6ff192fd9e)
  QGpCoreStat         1.0.1 from geopsypack-3.2.0
      (built on 20191001095527 commit 0d96f68c5152ec51a85b51b2319be00666c6e8d5)
  ArrayCore           3.2.0 from geopsypack-3.2.0
      (built on 20191001095548 commit b0ebb57817f4915de5a81417e769f0df1cf265e1)
  geopsy-fk           1.0.0 from geopsypack-3.2.0
      (built on 20191001095711 commit 223f371e5b3d557510430bd0368dad2d65e1e7ea)
#
# END SOFTWARE VERSION
#
#
# BEGIN STATION LIST
#
UT_STN11 9.31 47.18 0.00
UT_STN12 24.42 31.87 0.00
UT_STN14 17.43 8.34 0.00
UT_STN15 0.00 0.00 0.00
UT_STN16 -18.25 7.05 0.00
UT_STN17 -25.28 27.77 0.00
UT_STN18 -13.85 46.10 0.00
UT_STN19 -1.18 24.27 0.00
UT_STN20 -9.33 29.07 0.00
#
# END STATION LIST
#
#
# BEGIN PARAMETERS
#
# TYPEs:
#   - Signal: from the start or to the end of signal (TEXT are useless)
#   - Delta: a fixed duration counted from the start or the end (e.g. TEXT=1h).
#   - Pick: from or to a time pick (TEXT=time pick name).
#   - Absolute: from or to a fixed time (e.g. TEXT=3d5h6m45s)
FROM_TIME_TYPE=Absolute
FROM_TIME_TEXT=20170609223200.000000
# TYPEs: Signal, Delta, Absolute
TO_TIME_TYPE=Signal
TO_TIME_TEXT=0s
REFERENCE=
# TYPEs: Exactly, AtLeast, FrequencyDependent
WINDOW_LENGTH_TYPE=Exactly
WINDOW_MIN_LENGTH(s)=30
WINDOW_MAX_LENGTH(s)=30
WINDOW_MAX_COUNT=0
WINDOW_POWER_OF_TWO (y/n)=n
BAD_SAMPLE_TOLERANCE (s)=0
BAD_SAMPLE_GAP (s)=0
WINDOW_OVERLAP (%)=0
# TYPEs: NoSampleThreshold, RelativeSampleThreshold, AbsoluteSampleThreshold
BAD_SAMPLE_THRESHOLD_TYPE=NoSampleThreshold
ANTI-TRIGGERING_ON_RAW_SIGNAL (y/n)=n
ANTI-TRIGGERING_ON_FILTERED_SIGNAL (y/n)=n
# Start a time window for each seismic event available inside the time range.
SEISMIC_EVENT_TRIGGER (y/n)=n
SEISMIC_EVENT_TDELAY (s)=-0.1
MINIMUM_FREQUENCY=1
MAXIMUM_FREQUENCY=30
# Either 'log' or 'linear'
SAMPLING_TYPE_FREQUENCY=Log
# Number of samples is either set to a fixed value ('Count') or through a step between samples ('Step')'
STEP_TYPE_FREQUENCY=Count
SAMPLES_NUMBER_FREQUENCY=30
# STEP=ratio between two successive samples for 'log' scales
# STEP=difference between two successive samples for 'linear' scales
STEP_FREQUENCY=1.12005
INVERSED_FREQUENCY (y/n)=n
# Overlap is controled by the WINDOWS parameters, by default non overlapping blocks are selected
BLOCK_OVERLAP(y/n)=n
# If BLOCK_COUNT is null, BLOCK_COUNT=BLOCK_COUNT_FACTOR*<number of stations>
BLOCK_COUNT=0
BLOCK_COUNT_FACTOR=4
# If STATISTIC_COUNT is not null, approx. STATISTIC_COUNT estimates par frequency
STATISTIC_COUNT=30
# If STATISTIC_MAX_OVERLAP=100%, successive statistics can be computed on overlapping block sets
# If STATISTIC_MAX_OVERLAP=0%, successive statistics are computed on non-overlapping block sets
STATISTIC_MAX_OVERLAP(%)=0
# Gaussian band width from f*(1-bw) to f*(1+bw), f*bw=stddev
FREQ_BAND_WIDTH=0.05
# Required when using short and fixed length time windows, avoid classical oblique lines visible in the results
# when the number of frequency samples is higher than the number of points in the spectra.
OVER_SAMPLING_FACTOR=1
# A station is selected for processing only if it is available over a duration greater or equal to
# SELECT_DURATION_FACTOR*[total required duration]. The factor can vary from 0 to 1
SELECT_DURATION_FACTOR=0
# A station is selected for processing only if it is located at less than SELECT_ARRAY_RADIUS
# from SELECT_ARRAY_CENTER. SELECT_ARRAY_CENTER is the X, Y coordinates of the center.
SELECT_ARRAY_CENTER=0 0
SELECT_ARRAY_RADIUS=0
# Assuming that north of sensors is aligned to the magnetic north and sensor coordinates to UTM grid,
# relative coordinates between stations are calculated with a correction for the difference between the
# geographical and the local UTM norths and for the magnetic declination. The later can be, for instance,
# calculated at https://www.ngdc.noaa.gov/geomag-web/#declination
# The value must be in degrees.
MAGNETIC_DECLINATION=0
OUTPUT_BASE_NAME=nz_wghs_c50_rtbf_simple-
# Process types:
#  [All types can be used with vertical or three component datasets]
#  Keyword                Beamformer    Comments
#  DirectSteering         Capon         Cross spectrum made of raw components E, N and Z.
#                                       Radial and transverse projections included in steering matrix.
#                                       Combined optimum power.
#  Omni                   Capon         Same cross spectrum as DirectSteering.
#                                       Ouput power is the sum of power in all directions
#  RTBF                   Capon         According to Wathelet et al (2018).
#                                       Cross spectrum made of radial and transverse projections.
#  PoggiVertical          Capon         According Poggi et al. (2010)
#                                       k picked from vertical processing
#  PoggiRadial            Capon         According Poggi et al. (2010)
#                                       k picked from radial processing
#  Conventional           Conventional  Conventional FK processing
#                                       Cross spectrum made of radial and transverse projections.
#  ActiveRTBF             Capon         High resolution for active source
#                                       Cross spectrum made of radial and transverse projections.
#  ActiveDirectSteering   Capon         Cross spectrum made of raw components E, N and Z.
#                                       Radial and transverse projections included in steering matrix.
#  ActiveConventional     Conventional  Conventional FK processing
#                                       Cross spectrum made of radial and transverse projections.
#  Experimental modes:
#  DirectSteeringVertical Capon         Cross spectrum made of raw components E, N and Z.
#                                       Radial and transverse projections included in steering matrix.
#                                       Radial ellipticity steering.
#  DirectSteeringRadial   Capon         Cross spectrum made of raw components E, N and Z.
#                                       Radial and transverse projections included in steering matrix.
#                                       Vertical ellipticity steering.
#  DirectSteeringRefined  Capon         Cross spectrum made of raw components E, N and Z.
#                                       Radial and transverse projections included in steering matrix.
#                                       Iterative ellitpticity assessment.
PROCESS_TYPE=RTBF
# For debug purpose, save a bit of time by skipping Love computation
SKIP_LOVE(y/n)=n
# Inversion method used for getting FK peaks: Gradient or RefinedGrid
INVERSION_METHOD=RefinedGrid
# Wavenumber fine gridding used as a cache for the FK maps
CACHE_GRID_STEP (rad/m)=0
# If CACHE_GRID_STEP is null, GRID_STEP is computed from K_MIN*CACHE_GRID_STEP_FACTOR.
CACHE_GRID_STEP_FACTOR=0.05
# Wavenumber coarse gridding used for searching maxima of the FK maps
GRID_STEP (rad/m)=0
# If GRID_STEP is null, GRID_STEP is computed from K_MIN*GRID_STEP_FACTOR.
GRID_STEP_FACTOR=0.1
GRID_SIZE (rad/m)=0.492824
# Minimum velocity of the searched maxima of the FK map
MIN_V (m/s)=100
# Theoretical Kmin and Kmax computed from array geometry
# Used only for post-processing (AVIOS project)
K_MIN (rad/m)=0.103076
K_MAX (rad/m)=0.246412
N_MAXIMA=1
ABSOLUTE_THRESHOLD=0
RELATIVE_THRESHOLD (%)=0
EXPORT_ALL_FK_GRIDS=n
DAMPING_FACTOR=0.05
# If provided and PROCESS_TYPE==DirectSteering, the ellipticity is forced to the provided curve.
# The file must contain two columns: frequency and signed ellipticity.
# Provided sampling must not necessarily match the processing sampling frequency, linear interpolation is used.
# Better for precision if the two sampling match.
# To generate a synthetic curve: gpell M2.1.model -one-mode -R 1 -min 0.5 -max 50 -n 187 > curve.txt
FIXED_ELLIPTICITY_FILE_NAME=
# Minimum distance between source and receiver (for active source only)
MINIMUM_DISTANCE=0
# Maximum distance between source and receiver (for active source only)
MAXIMUM_DISTANCE=inf
# Experimental join processing of several arrays
# Several ARRAY can be defined with a list of station names
# Number of steps for the computation of radial/transverse projections
ROTATE_STEP_COUNT=72
#
# END PARAMETERS
#
#
# BEGIN DATA
#
# abs_time frequency polarization slowness azimuth ellipticity noise power valid
20170609223200.000000 26.784520720832514229 Rayleigh 0.0018554754628104259268 14.318975454730491492 0 inf 0 1
20170609223200.000000 26.784520720832514229 Love 0.00029115549754587567461 87.739498088859406266 0 0 12011.679960801997368 1
20170609223200.000000 23.913685008156864598 Rayleigh 0.0014340767798968641605 67.49998306643504975 1.3039802056832219268 15.605227441520190368 1990.4793978392781355 1
20170609223200.000000 23.913685008156864598 Love 0.00041015861386643466622 107.49992653302450663 0 0 8520.2537708401850978 1
20170609223200.000000 21.350553053747969301 Love 0.0030741228860816606147 148.7592218154971988 0 0 8560.9479441394742025 1
20170609223200.000000 19.062144355644871752 Rayleigh 0.0022037604878459319743 102.49996737889688347 1.1786190635830546825 15.941810293699306911 4353.6541549974072041 1
20170609223200.000000 19.062144355644871752 Love 0.0023564912930668876524 118.64166994536685706 0 0 11859.886310015423078 1
20170609223200.000000 17.019013349242346322 Rayleigh 0.0045731006031107801491 336.47689752669538166 -1.164448451932748263 27.893302529759306907 5534.5991952674166896 1
20170609223200.000000 17.019013349242346322 Love 0.0023766112119235154564 327.50000184645443824 0 0 14248.022755354766559 1
20170609223200.000000 15.194870523363551484 Rayleigh 0.0018939137910293716693 300.54131653193883267 1.3575840898213658026 34.793973261087344895 8920.7824898113867675 1
20170609223200.000000 15.194870523363551484 Love 0.0019474706671052499207 297.50034249768293648 0 0 25463.102064683487697 1
20170609223200.000000 13.566244146113266567 Rayleigh 0.0049758628183492453062 152.50000415336023707 1.3216308692385183576 15.77742425961404038 12237.99667460431192 1
20170609223200.000000 13.566244146113266567 Love 0.0043612349147056084231 260.78819610834040077 0 0 45173.735326508118305 1
20170609223200.000000 12.112178247848115475 Rayleigh 0.0019265146514132779672 272.50000673202140433 1.7061686458716751602 10.974620327889734739 11267.556384483259535 1
20170609223200.000000 12.112178247848115475 Love 0.0043379741806881897542 264.16435630456459194 0 0 56865.124963543865306 1
20170609223200.000000 10.813962975130150923 Rayleigh 0.001536226436850985852 292.49999400140666239 1.670132631701450876 12.192849392709796064 14913.444515079625489 1
20170609223200.000000 10.813962975130150923 Love 0.0071365545304730012774 25.443638480180013062 0 0 75961.347976828183164 1
20170609223200.000000 9.6548938460563000774 Rayleigh 0.0018192771159737958914 320.30604259085453123 1.8717747905325392566 8.1492928230167187564 16546.594350816318183 1
20170609223200.000000 8.6200568092377718443 Rayleigh 0.0044800903012174137993 241.79766406114489996 -1.1081352264758042026 5.761159524222790651 20586.257016558211035 1
20170609223200.000000 8.6200568092377718443 Love 0.0015625877205905547209 307.4999698831961723 0 0 43550.088521856654552 1
20170609223200.000000 7.6961363407260812153 Rayleigh 0.0044621885941912237464 237.49212544694685789 -0.96365172525326170394 4.0625166782111898911 18570.129254734765709 1
20170609223200.000000 7.6961363407260812153 Love 0.0042139470038873210259 302.08194331865990989 0 0 26950.831592717127933 1
20170609223200.000000 6.8712441096176579691 Rayleigh 0.0040852877825936391443 308.88896110508198944 -0.86353438752964384317 6.5449465042778154356 22642.679314591794537 1
20170609223200.000000 6.8712441096176579691 Love 0.0041109273768898382459 307.49987832240242369 0 0 29566.924909839013708 1
20170609223200.000000 6.1347660077317476279 Rayleigh 0.0047654590614306883284 211.35926236805858025 -1.0380379437281304078 5.3705654332307171117 18077.501865076337708 1
20170609223200.000000 6.1347660077317476279 Love 0.0037878146255192345244 312.49966407277526059 0 0 47563.936367937436444 1
20170609223200.000000 5.4772255750516620765 Rayleigh 0.0037984317998284501151 307.49092550413183744 -0.75584219044377176644 4.3794161446874504406 29872.065212550038268 1
20170609223200.000000 5.4772255750516620765 Love 0.0038590944626965715744 315.60916359123211805 0 0 51925.726512667599309 1
20170609223200.000000 4.8901620635881650756 Rayleigh 0.0041319981233514362778 207.5008205551916376 -0.70112156776939849046 7.7912418394127129773 22707.417451635643374 1
20170609223200.000000 4.8901620635881650756 Love 0.0037937047319657130409 318.94256847413390688 0 0 58396.27112315553677 1
20170609223200.000000 4.3660215706802079083 Rayleigh 0.0032389983715332831826 312.50009252500342427 -0.68821537663250376138 12.964728329083389013 29885.41066712625252 1
20170609223200.000000 4.3660215706802079083 Love 0.0038576249147116792662 307.49999480641776017 0 0 102670.7602525055554 1
20170609223200.000000 3.8980598409161895113 Rayleigh 0.0033482793043777378701 167.50001246154590717 -0.77633157498580152023 16.441330298876149385 33488.205575890358887 1
20170609223200.000000 3.8980598409161895113 Love 0.0035852151988442497628 311.02709383235145424 0 0 89649.700642167823389 1
20170609223200.000000 3.4802554860021572836 Rayleigh 0.0028534524584453361921 162.50001852061666341 -1.2684876992114448857 25.902203642567233288 40150.055123339727288 1
20170609223200.000000 3.4802554860021572836 Love 0.003483947610977965962 157.4999871997361538 0 0 141682.48683991652797 1
20170609223200.000000 3.1072325059538594694 Rayleigh 0.0022752465546130497959 172.50000318786794651 0.94435688334494782836 45.759710528173435762 67040.740477696628659 1
20170609223200.000000 3.1072325059538594694 Love 0.0034740987952529881443 167.49997828974250069 0 0 178350.23224344220944 1
20170609223200.000000 2.7741911146721816017 Rayleigh 0.0020583958441275627439 182.50000000000005684 0.91026653352354958137 75.666458418015977827 38630.302733553755388 1
20170609223200.000000 2.7741911146721816017 Love 0.0028720878218595805552 317.49986970971542632 0 0 119458.64079718972789 1
20170609223200.000000 2.4768459798162152374 Rayleigh 0.0018980542686579031462 177.50000000000005684 -0.82419356262741427788 38.286048134004794008 29008.944330831778643 1
20170609223200.000000 2.4768459798162152374 Love 0.0027729358435084564688 177.49999999999971578 0 0 139019.87642318953294 1
20170609223200.000000 2.2113710822899363961 Rayleigh 0.00028861657427182947416 7.4999999999978257392 1.1708495661121924858 67.71438608970473183 18661.159405417467497 1
20170609223200.000000 2.2113710822899363961 Love 0.0028052482065457321099 322.49942352478421981 0 0 111386.6119934291637 1
20170609223200.000000 1.9743504858348199793 Love 0.0022506648424081144959 322.49999019218108742 0 0 75030.691166654039989 1
20170609223200.000000 1.7627343832676150015 Rayleigh 0.00080622232695574968554 192.5 2.2176757583791903983 29.91182150968375808 7406.2657173052321014 1
20170609223200.000000 1.7627343832676150015 Love 0.0015357617483718868836 167.49999999999982947 0 0 77761.234325364828692 1
20170609223200.000000 1.5737998537985111724 Rayleigh 0.00074868870700578460387 187.50000000000005684 2.5347206665410184634 17.582885867308309713 5721.4800199625578898 1
20170609223200.000000 1.4051158264836460798 Rayleigh 0.00081039046583031250012 202.50000000000031264 2.7762182528032584017 26.097103398907187 6823.8129079228283445 1
20170609223200.000000 1.4051158264836460798 Love 0.00039531496576210311839 142.49981145789678294 0 0 106360.8959983572131 1
20170609223200.000000 1.2545117989873635356 Rayleigh 0.00056641787563499034625 192.5 2.4423028333328509198 41.673023685547548212 5925.0802259921765653 1
20170609223200.000000 1.2545117989873635356 Love 0.00035984680718830944863 112.49999999999727152 0 0 76210.169946707930649 1
20170609223200.000000 1.1200499091501965321 Rayleigh 0.00037505788111763651909 192.49999999999988631 0 inf 0 1
20170609223200.000000 1.1200499091501965321 Love 0.0007380342147437964637 97.125016348901056062 0 0 52498.080099468468688 1
20170609223200.000000 1 Love 0.00082745442947612234553 97.565321068432012908 0 0 47963.968241689530259 1
